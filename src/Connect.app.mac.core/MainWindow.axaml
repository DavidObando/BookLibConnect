<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:core.audiamus.connect.ui.mac.ViewModels"
        xmlns:views="using:core.audiamus.connect.ui.mac.Views"
        x:Class="core.audiamus.connect.app.mac.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="{Binding Title}"
        Width="1200" Height="800"
        MinWidth="800" MinHeight="600">

  <Window.Styles>
    <Style Selector="TabControl">
      <Setter Property="Margin" Value="0" />
    </Style>
  </Window.Styles>

  <Panel>
    <!-- Main content -->
    <DockPanel>
      <!-- Status bar -->
      <Border DockPanel.Dock="Bottom" Background="#F0F0F0"
              Padding="8,4" BorderThickness="0,1,0,0" BorderBrush="LightGray">
        <TextBlock Text="{Binding StatusMessage}" FontSize="12" />
      </Border>

      <!-- Tab layout -->
      <TabControl>
        <TabItem Header="Library">
          <views:BookLibraryView DataContext="{Binding BookLibrary}" />
        </TabItem>
        <TabItem Header="Downloads">
          <views:ConversionView DataContext="{Binding Conversion}" />
        </TabItem>
        <TabItem Header="Settings">
          <views:SettingsView DataContext="{Binding Settings}" />
        </TabItem>
        <TabItem Header="About">
          <views:AboutView>
            <views:AboutView.DataContext>
              <vm:AboutViewModel />
            </views:AboutView.DataContext>
          </views:AboutView>
        </TabItem>
      </TabControl>
    </DockPanel>

    <!-- Wait overlay -->
    <views:WaitOverlay />
  </Panel>

</Window>
